"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[389],{2389:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var i=n(5861),s=n(885),r=n(7757),o=n.n(r),a=n(2791),c=n(4569),l=n.n(c),d=n(184),u=function(e){var t=e.temp,n=e.feels_like,i=e.units;return(0,d.jsxs)("div",{id:"temp",className:"mainBoxes",children:[(0,d.jsxs)("p",{children:["Temperature: ",t,"\xb0","F"===i?"F":"C"]}),(0,d.jsxs)("p",{children:["Feels like: ",n,"\xb0","F"===i?"F":"C"]})]})},p=function(e){var t=e.type,n=a.useState("https:"+t.icon),i=(0,s.Z)(n,2),r=i[0],o=i[1];return(0,a.useEffect)((function(){var e=null,t=function(){e&&clearTimeout(e);var t=document.getElementById("icon").width>64?"128x128":"64x64";e=setTimeout((function(){return o(r.slice(0,35)+t+r.slice(40))}),100)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,d.jsxs)("div",{id:"type",className:"mainBoxes",children:[(0,d.jsx)("h3",{children:t.description}),(0,d.jsx)("img",{id:"icon",width:128,height:128,src:r,alt:t.description})]})},h={location:{name:"Kolbacz",region:"",country:"Poland",lat:53.3,lon:14.81,tz_id:"Europe/Warsaw",localtime_epoch:1641590350,localtime:"2022-01-07 22:19"},astronomy:{astro:{sunrise:"08:14 AM",sunset:"04:01 PM",moonrise:"11:10 AM",moonset:"10:08 PM",moon_phase:"Waxing Crescent",moon_illumination:"30"}}},m={location:{name:"Kolbacz",region:"",country:"Poland",lat:53.3,lon:14.81,tz_id:"Europe/Warsaw",localtime_epoch:1641590350,localtime:"2022-01-07 22:19"},current:{last_updated_epoch:1641590100,last_updated:"2022-01-07 22:15",temp_c:1,temp_f:33.8,is_day:0,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/night/122.png",code:1009},wind_mph:3.8,wind_kph:6.1,wind_degree:190,wind_dir:"S",pressure_mb:1010,pressure_in:29.83,precip_mm:.1,precip_in:0,humidity:100,cloud:100,feelslike_c:-3.2,feelslike_f:26.2,vis_km:10,vis_miles:6,uv:1,gust_mph:13.9,gust_kph:22.3}},f=(0,a.lazy)((function(){return n.e(938).then(n.bind(n,5938))})),x=function(e){return Math.floor(Date.parse((new Date).toDateString()+" "+e)/1e3)},_=function(e){var t=e.coords,n=a.useState(null),r=(0,s.Z)(n,2),c=r[0],u=r[1],p={method:"GET",url:"https://weatherapi-com.p.rapidapi.com/astronomy.json",params:{q:t},headers:{"x-rapidapi-host":"weatherapi-com.p.rapidapi.com","x-rapidapi-key":"0bedbfb065msh4d74772935f4250p1f5b5cjsn0208d1ba7eb7"}},m=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",h);case 2:return n=h,e.next=5,l().request(p).then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if((0,a.useEffect)((function(){m(!1).then((function(e){u({moon_illumination:parseInt(e.astronomy.astro.moon_illumination),moon_phase:e.astronomy.astro.moon_phase,moonrise:x(e.astronomy.astro.moonrise),moonset:x(e.astronomy.astro.moonset),sunrise:x(e.astronomy.astro.sunrise),sunset:x(e.astronomy.astro.sunset),localtime_epoch:e.location.localtime_epoch,localtime:e.location.localtime})}))}),[t]),null===c)return(0,d.jsx)("div",{children:"Loading..."});var _=Math.floor(Date.parse(c.localtime)/1e3)-c.localtime_epoch;return(0,d.jsx)(f,{sunrise:c.sunrise,sunset:c.sunset,localtime_epoch:Math.floor(Date.parse(c.localtime)/1e3),timeDifference:_,moonPhase:c.moon_phase,moonIllumination:c.moon_illumination})},w=n(8670),j=n(8105),v=function(){return(0,d.jsxs)("svg",{width:"53",height:"53",viewBox:"0 0 53 53",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M13.76 16.518L36.663 39.421L39.491 36.593L16.126 13.397L14.326 14.256L13.76 16.518Z",fill:"#715C3A"}),(0,d.jsx)("path",{d:"M35.637 37.566L36.737 46.366L53 52.73L46.636 36.466L37.836 35.366L35.637 37.566Z",fill:"#8F8F8F"}),(0,d.jsx)("path",{d:"M6 16.27V18.27H8V20.306L18 20.27V18.27L20 17.27V9.27H18V7.27H16V4.27H14V2.27H12V0.269997H8V8.27H0V12.27H2V14.27H4V16.27H6Z",fill:"#7D7D7D"})]})},g={type:"spring",stiffness:500,damping:40,mass:20},C=function(e){var t=e.deg,n=(0,j.YD)({threshold:.8}),i=n.ref,s=n.inView;return(0,d.jsxs)("div",{id:"compass",children:[(0,d.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 508 508",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M254 508C394.28 508 508 394.28 508 254C508 113.72 394.28 0 254 0C113.72 0 0 113.72 0 254C0 394.28 113.72 508 254 508Z",fill:"#324A5E"}),(0,d.jsx)("path",{d:"M254 447.2C360.701 447.2 447.2 360.701 447.2 254C447.2 147.299 360.701 60.8 254 60.8C147.299 60.8 60.8 147.299 60.8 254C60.8 360.701 147.299 447.2 254 447.2Z",fill:"#84DBFF"}),(0,d.jsx)("path",{d:"M254 420.4C345.9 420.4 420.4 345.9 420.4 254C420.4 162.1 345.9 87.6 254 87.6C162.1 87.6 87.6 162.1 87.6 254C87.6 345.9 162.1 420.4 254 420.4Z",fill:"white"}),(0,d.jsx)("path",{d:"M250.8 134.4C258.09 134.4 264 128.49 264 121.2C264 113.91 258.09 108 250.8 108C243.51 108 237.6 113.91 237.6 121.2C237.6 128.49 243.51 134.4 250.8 134.4Z",fill:"#2C9984"}),(0,d.jsx)("path",{d:"M250.8 395.2C258.09 395.2 264 389.29 264 382C264 374.71 258.09 368.8 250.8 368.8C243.51 368.8 237.6 374.71 237.6 382C237.6 389.29 243.51 395.2 250.8 395.2Z",fill:"#2C9984"}),(0,d.jsx)("path",{d:"M381.6 264.8C388.89 264.8 394.8 258.89 394.8 251.6C394.8 244.31 388.89 238.4 381.6 238.4C374.31 238.4 368.4 244.31 368.4 251.6C368.4 258.89 374.31 264.8 381.6 264.8Z",fill:"#2C9984"}),(0,d.jsx)("path",{d:"M120.4 264.8C127.69 264.8 133.6 258.89 133.6 251.6C133.6 244.31 127.69 238.4 120.4 238.4C113.11 238.4 107.2 244.31 107.2 251.6C107.2 258.89 113.11 264.8 120.4 264.8Z",fill:"#2C9984"})]}),(0,d.jsx)(w.E.div,{ref:i,id:"arrow",transition:g,initial:"hidden",animate:s?"visible":"",variants:{visible:{rotate:t},hidden:{rotate:t-90}},children:(0,d.jsx)(v,{})})]})},y=function(e){var t=e.speed,n=e.speed_mph,i=e.gust,s=e.gust_mph,r=e.deg,o=e.units;return(0,d.jsx)("div",{id:"wind",className:"mainBoxes",children:(0,d.jsxs)("div",{className:"wrapper",children:[(0,d.jsxs)("div",{id:"values",children:[(0,d.jsx)("h3",{children:"Wind"}),(0,d.jsxs)("p",{children:["Speed: ","F"===o?n+" mph":t+" km/h"]}),(0,d.jsxs)("p",{children:["Gust: ","F"===o?s+" mph":i+" km/h"]}),(0,d.jsxs)("p",{children:[r,"\xb0"]})]}),(0,d.jsx)(C,{deg:r-135})]})})},b=function(e){var t=e.humidity,n=e.pressure,i=e.clouds;return(0,d.jsxs)("div",{id:"details",className:"mainBoxes",children:[(0,d.jsx)("h3",{children:"Details"}),(0,d.jsxs)("p",{children:["Humidity: ",t,"%"]}),(0,d.jsxs)("p",{children:["Pressure: ",n," hPa"]}),(0,d.jsxs)("p",{children:["Clouds: ",i,"%"]})]})},k=n(9428),M={visible:{opacity:1},hidden:{opacity:0}},Z={hidden:{y:"-100vh",opacity:0},visible:{y:"200px",opacity:1,transition:{delay:.5}}},L=function(e){var t=e.showModal,n=e.setShowModal,i=e.buttonText,s=e.promptText;e.buttonAction;return(0,d.jsx)(k.M,{children:t&&(0,d.jsx)(w.E.div,{className:"backdrop",variants:M,initial:"hidden",animate:"visible",exit:"hidden",onClick:function(){return n(!1)},children:(0,d.jsxs)(w.E.div,{className:"modal",variants:Z,children:[(0,d.jsx)("p",{children:s}),(0,d.jsx)("button",{onClick:function(){return n(!1)},children:i})]})})})},E=n(8239),F=function(e){for(;e>180;)e-=360;for(;e<-180;)e+=360;return e},V=function(e){var t=e.coordinates,n=e.units,r=a.useState(null),c=(0,s.Z)(r,2),h=c[0],f=c[1],x=a.useState(null),w=(0,s.Z)(x,2),j=w[0],v=w[1],g=(0,a.useState)(!1),C=(0,s.Z)(g,2),k=C[0],M=C[1],Z=(0,a.useState)("xd"),V=(0,s.Z)(Z,2),D=V[0],S=V[1],H=F(t[1])+","+F(t[0]),B={method:"GET",url:"https://weatherapi-com.p.rapidapi.com/current.json",params:{q:H},headers:{"x-rapidapi-host":"weatherapi-com.p.rapidapi.com","x-rapidapi-key":"0bedbfb065msh4d74772935f4250p1f5b5cjsn0208d1ba7eb7"}},T=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",m);case 2:return e.next=4,l().request(B).then((function(e){n=e.data,(0,E.W)()})).catch((function(e){console.log(e),M(!0),e.response?S(e.response.data.error.message):S("Something went wrong")}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){T(!1).then((function(e){e&&(f({temp:e.current.temp_c,temp_f:e.current.temp_f,feels_like:e.current.feelslike_c,feels_like_f:e.current.feelslike_f,pressure:e.current.pressure_mb,humidity:e.current.humidity,clouds:e.current.cloud,weather:{description:e.current.condition.text,icon:e.current.condition.icon},wind:{speed:e.current.wind_kph,speed_mph:e.current.wind_mph,deg:e.current.wind_degree,gust:e.current.gust_kph,gust_mph:e.current.gust_mph}}),v({name:e.location.name,country:e.location.country,lat:e.location.lat,lon:e.location.lon}))}))}),[t]);return(0,d.jsx)("div",{children:h&&j&&t?(0,d.jsxs)("div",{id:"weather",children:[(0,d.jsx)(L,{showModal:k,setShowModal:M,buttonText:"Ok",promptText:D}),(0,d.jsxs)("div",{className:"mainBoxes",children:[(0,d.jsxs)("h1",{children:["Location: ",j.name]}),(0,d.jsxs)("h2",{children:["Country: ",j.country]})]}),(0,d.jsx)(u,{temp:"F"===n?h.temp_f:h.temp,feels_like:"F"===n?h.feels_like_f:h.feels_like,units:n}),(0,d.jsx)(y,{speed:h.wind.speed,speed_mph:h.wind.speed_mph,deg:h.wind.deg,gust:h.wind.gust,gust_mph:h.wind.gust_mph,units:n}),(0,d.jsx)(p,{type:h.weather}),(0,d.jsx)(b,{humidity:h.humidity,pressure:h.pressure,clouds:h.clouds}),(0,d.jsx)(_,{coords:H})]}):(0,d.jsx)("p",{children:"Loading..."})})}}}]);
//# sourceMappingURL=389.c4e2cc6b.chunk.js.map